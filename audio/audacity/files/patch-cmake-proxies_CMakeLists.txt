--- cmake-proxies/CMakeLists.txt.orig	2021-08-18 10:21:37 UTC
+++ cmake-proxies/CMakeLists.txt
@@ -87,6 +87,7 @@ add_conan_lib(
    REQUIRED
    INTERFACE_NAME libmp3lame::libmp3lame
    PKG_CONFIG "lame >= 3.100"
+   ALLOW_FIND_PACKAGE
 )
 
 add_conan_lib(
@@ -105,24 +106,23 @@ add_conan_lib(
    PKG_CONFIG "mad >= 0.15.1b"
 )
 
-if( CMAKE_SYSTEM_NAME MATCHES "Darwin" )
-   set( curl_ssl "darwinssl" )
-elseif( CMAKE_SYSTEM_NAME MATCHES "Windows" )
-   set( curl_ssl "schannel")
-else()
-   set ( curl_ssl "openssl" )
-endif ()
-
-add_conan_lib(
-   ThreadPool
-   threadpool/20140926
-   REQUIRED
-   ALWAYS_ALLOW_CONAN_FALLBACK
-)
-
 if( ${_OPT}has_networking )
+   if( CMAKE_SYSTEM_NAME MATCHES "Darwin" )
+      set( curl_ssl "darwinssl" )
+   elseif( CMAKE_SYSTEM_NAME MATCHES "Windows" )
+      set( curl_ssl "schannel")
+   else()
+      set ( curl_ssl "openssl" )
+   endif ()
 
    add_conan_lib(
+      ThreadPool
+      threadpool/20140926
+      REQUIRED
+      ALWAYS_ALLOW_CONAN_FALLBACK
+   )
+
+   add_conan_lib(
       CURL
       libcurl/7.75.0
       REQUIRED
@@ -148,11 +148,13 @@ if( NOT CMAKE_SYSTEM_NAME MATCHES "Darwin|Windows")
    )
 endif()
 
-add_conan_lib(
-   RapidJSON
-   rapidjson/1.1.0
-   REQUIRED
-)
+if( ${_OPT}has_sentry_reporting )
+   add_conan_lib(
+      RapidJSON
+      rapidjson/1.1.0
+      REQUIRED
+   )
+endif()
 
 set_conan_vars_to_parent()
 
@@ -161,7 +163,7 @@ set_conan_vars_to_parent()
 #       directory          option      symbol      req   chk   version
 addlib( libsndfile         sndfile     SNDFILE     YES   YES   "sndfile >= 1.0.28" )
 addlib( libsoxr            soxr        SOXR        YES   YES   "soxr >= 0.1.1" )
-addlib( portaudio-v19      portaudio   PORTAUDIO   YES   YES   "" )
+addlib( portaudio-v19      portaudio   PORTAUDIO   YES   YES   "portaudio-2.0 >= 19" )
 addlib( sqlite             sqlite      SQLITE      YES   YES   "sqlite3 >= 3.32.0" )
 
 # Optional libraries

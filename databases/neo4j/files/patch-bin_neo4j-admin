--- bin/neo4j-admin.orig	2022-03-11 03:02:17 UTC
+++ bin/neo4j-admin
@@ -54,6 +54,8 @@ build_classpath() {
 detect_os() {
   if uname -s | grep -q Darwin; then
     DIST_OS="macosx"
+  elif uname -s | grep -q FreeBSD; then
+    DIST_OS="freebsd"
   else
     DIST_OS="other"
   fi
@@ -155,6 +157,9 @@ _find_java_home() {
   [[ "${JAVA_HOME:-}" ]] && return
 
   case "${DIST_OS}" in
+    "freebsd")
+      JAVA_HOME="%%JAVA_HOME%%"
+      ;;
     "macosx")
       JAVA_HOME="$(/usr/libexec/java_home -v 11)"
       ;;
@@ -168,9 +173,9 @@ _show_java_help() {
 
 _setup_calculated_paths() {
   if [[ -z "${NEO4J_HOME:-}" ]]; then
-    NEO4J_HOME="$(cd "$(dirname "$0")"/.. && pwd)"
+    NEO4J_HOME="$(cd "$(dirname "$0")"/../neo4j && pwd)"
   fi
-  : "${NEO4J_CONF:="${NEO4J_HOME}/conf"}"
+  : "${NEO4J_CONF:="${NEO4J_HOME}/../etc"}"
   readonly NEO4J_HOME NEO4J_CONF
 }
 
